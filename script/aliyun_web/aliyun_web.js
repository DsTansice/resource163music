/*
new Env('阿里云社区');
@Author: Leiyiyan
@Date: 2024-06-24 18:45

@Description:
阿里云服务 每日签到、点赞、分享、评论、收藏，积分可兑换实物

获取 Cookie 方式: 阿里云 APP - 首页 - 积分商城

变量名: aliyunWeb_data、aliyunWeb_time

注意事项 - 因文章评论需要审核，所以请按推荐时间执行: 
   12点前执行一次: 签到、点赞、收藏、分享、评论；
   12点后执行一次: 积分收取、取消点赞、取消收藏；
   如需自定义时间，请修改 aliyunWeb_time 变量值，取值范围为 1-23 之间的整数
------------------------------------------------------------------------------
BoxJs订阅地址: 
https://raw.githubusercontent.com/leiyiyan/resource/main/subscribe/leiyiyan.boxjs.json

[Script]
http-response ^https?:\/\/developer\.aliyun\.com\/developer\/api\/my\/user\/getUser script-path=https://gist.githubusercontent.com/Sliverkiss/ba14fe4fb20b640c17118c445461f7c6/raw/aliyunWeb.js, requires-body=true, timeout=60, tag=阿里云Web Cookie
cron "0 7,13 * * *" script-path=https://gist.githubusercontent.com/Sliverkiss/ba14fe4fb20b640c17118c445461f7c6/raw/aliyunWeb.js, tag=阿里云社区日常任务

[MITM]
hostname = developer.aliyun.com

====================================
⚠️【免责声明】
------------------------------------------
1、此脚本仅用于学习研究，不保证其合法性、准确性、有效性，请根据情况自行判断，本人对此不承担任何保证责任。
2、由于此脚本仅用于学习研究，您必须在下载后 24 小时内将所有内容从您的计算机或手机或任何存储设备中完全删除，若违反规定引起任何事件本人对此均不负责。
3、请勿将此脚本用于任何商业或非法目的，若违反规定请自行对此负责。
4、此脚本涉及应用与本人无关，本人对因此引起的任何隐私泄漏或其他后果不承担任何责任。
5、本人对任何脚本引发的问题概不负责，包括但不限于由脚本错误引起的任何损失和损害。
6、如果任何单位或个人认为此脚本可能涉嫌侵犯其权利，应及时通知并提供身份证明，所有权证明，我们将在收到认证文件确认后删除此脚本。
7、所有直接或间接使用、查看此脚本的人均应该仔细阅读此声明。本人保留随时更改或补充此声明的权利。一旦您使用或复制了此脚本，即视为您已接受此免责声明。
 */

const _0x5c66b1=_0xb391;function _0xb391(_0x2e2861,_0x46b17b){const _0x386445=_0x3864();return _0xb391=function(_0xb39139,_0x3b0a76){_0xb39139=_0xb39139-0xea;let _0x2f4c56=_0x386445[_0xb39139];return _0x2f4c56;},_0xb391(_0x2e2861,_0x46b17b);}(function(_0x368bb6,_0x307dc4){const _0x786eff=_0xb391,_0x547d74=_0x368bb6();while(!![]){try{const _0x297dab=-parseInt(_0x786eff(0x241))/0x1*(parseInt(_0x786eff(0x106))/0x2)+parseInt(_0x786eff(0x1ed))/0x3*(-parseInt(_0x786eff(0x202))/0x4)+parseInt(_0x786eff(0x141))/0x5*(-parseInt(_0x786eff(0x183))/0x6)+parseInt(_0x786eff(0x157))/0x7+-parseInt(_0x786eff(0x20f))/0x8+-parseInt(_0x786eff(0x133))/0x9*(parseInt(_0x786eff(0x243))/0xa)+-parseInt(_0x786eff(0x115))/0xb*(-parseInt(_0x786eff(0x1db))/0xc);if(_0x297dab===_0x307dc4)break;else _0x547d74['push'](_0x547d74['shift']());}catch(_0x3175ad){_0x547d74['push'](_0x547d74['shift']());}}}(_0x3864,0x4d1ee));function _0x3864(){const _0x525ff1=['addBookComment','parse','wBCZK','cookie','https://developer.aliyun.com/','userId','toStr','------------\x0a','CvNQp','avatar','11msozJb','likeOrNotLike','https://developer.aliyun.com/adc/scenario/','DdJpw','getAsks','HscXo','text','mLJLE','getAskDetail','get','✅\x20获取场景:\x20','userName','length','random','KAdkN',':缓存中存在Cheerio模块,跳过下载','getSceneList','GdrOB','TVGzQ','baseUrl','VzIQp','list','tongyi','aCPyB','jrgdn','lzIxk','race','bDiDM','KZUNn','developerAdcExperienceStatusVO','9njiofP','KQdXJ','form','Divak','⛔️\x20获取电子书列表失败!\x20','很棒的一本书','cloudnative','undefined','Referer','⛔️\x20请求发起失败！','/ebook/',',\x20标题:\x20','nmLRj','⛔️\x20结束场景失败!\x20','55EmoAOm','message','/lm/getGroupItems?pageNum=1&pageSize=50','filter','https://developer.aliyun.com/developer/api','zBABI','NYsZe','AiSbb','VDbEA','⛔️\x20确认场景状态:\x20','CrsGM','concat','yfUFW','assessSignInBonusQualification','阿里云社区','luoshen','sMoId','云存储','cHAfd','http','getTasks','龙蜥操作系统','491946MLkcgD','hlecK','qppTr','文章收藏','aliyun-public-like','entries','createResourceById','false','https://developer.aliyun.com/adc/api/getSceneDetailPageInfoById','GyaBP','c_csrf=([^;]*)','LKOTA','getSceneDetailPageInfoById','hCHUi','getUccCsrfToken','⛔️\x20抽奖失败!\x20','.answer-item','200','BshwV','OPTIONS','getSceneStartPageInfoById','本次运行共获得','✅\x20待领取积分:\x20','aliyun-public-favorite','.askProduct-item-info-answer','LAfMO','includes','[发送请求]\x20缺少\x20url\x20参数','modelscope','getScript','fetch','OeYoK','当前请求已超时','getEbooks','gmtEnableStart','yq-article','zRIBF','ffAme','WEbUH','debug','shtlt','signin','⛔️\x20随机获取问题问答失败!\x20','.ebook-home-title','295602BxNNGP','doScene','飞天洛神云网络','IzEDT','\x20创建场景资源:\x20','taskGroupId','https://developer.aliyun.com/adc/scenario/exp/','https://developer.aliyun.com/developer/api/ebook/mark/add','.answer-list','User-Agent','headers','code','KaeEp','objectId','https://developer.aliyun.com/ebook/index/__0_0_0_','DLrPZ','/score/pending/receiveAllPendingScore?appCode=developer','⛔️\x20获取UccCsrfToken失败!\x20','rgwsY','aliyun-public-share','addComment','epNjM','⛔️\x20获取问答列表失败!\x20','✅\x20签到\x20-\x20','sjTDj','map','⛔️\x20main\x20run\x20error\x20=>\x20','finishRule','✅\x20收取积分:\x20','load','✅\x20确认场景状态:\x20','body','Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_7)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/122.0.0.0\x20Safari/537.36','🎁\x20','/my/user/getUser','round','⛔️\x20checkEnv\x20run\x20error\x20=>\x20','积分不足','string','gmtEnableEnd','jEjFi','findIndex','⛔️\x20加载模块失败，请检查模块路径是否正常','post','log','ZRrFN',':开始下载Cheerio模块','resourceFrom','ABdfh','floor','Cookie','hiOXs','iot','zwrEy','useCountTotal','collect','avJya','https://developer.aliyun.com/group/aliware/article_hot?pageNum=','find','成功:\x20','.ebook-home-list','⛔️\x20抽奖\x20-\x20','modelstudio','TwOvH','✅\x20随机获取问答id:\x20','dDGXH','mgZfq','done','⛔️\x20查询待领取积分失败!\x20','https://developer.aliyun.com/adc/api/closeSceneById','is_debug','⛔️\x20确认场景状态失败!\x20','AUkxB','now','vKPng','https://developer.aliyun.com/adc/api/startSceneById','QbbTo','NjzhE','\x20结束场景:\x20','notifyMsg','replace','eYWkO','viapi','⛔️\x20获取场景初始化信息失败!\x20','/sign/receiveSignInBonus','ruWuW','✅\x20开始取消文章的点赞与收藏记录','sHJiK','30377556ZWgjwa','SbWvE','method','getRandomTime','vrKMv','opts','toObj','zYkyL','https://developer.aliyun.com/adc/api/getSceneList','xubFz','interactData','UaAuZ','⛔️\x20获取签到任务列表失败!\x20','\x20积分','getTime','mJzzC','qpTem','YWXAA','78jXSbxT','fMIDW','url','HKPYb','msg','answer','✅\x20回答点赞:\x20','更新token成功!','actionCode','aliyunWeb_time','✅\x20获取场景初始化信息:\x20','IHHZJ','\x20开始场景:\x20','lastIndexOf','\x0a-----------','/score/pending/getUserTotalPendingScore?appCode=developer','RVvvH','qPYVZ','name','wVpTg','dVeap','63532tAwQyV','./sendNotify','iFayH','WfWYU','⛔️\x20回答点赞失败!\x20','database','setjson','joyYA','yq-comment-type-article','LMzJL','substring','data','IAebE','3641280xnxLGZ','kkpGX','debug\x20error\x20=>\x20t=','https://developer.aliyun.com/adc/api/getSceneStartPageInfoById','rHesv','.feed-item-content-title\x20h3','RMhlC','actions','qYUrk','云效DevOps','⛔️\x20未检测到ck，请添加环境变量','https://ucc.aliyun.com/uccPagingComponent/addComment','host','RIWUF','LbORw','\x20>>\x20Start\x20work','set','OAjmw','fzfaV','ceil','keys','push','developer.aliyun.com','JYloY','视觉智能','boksN','计算巢','https://developer.aliyun.com/developer/api/my/subscribe/listUserFavor','数据库','Cheerio','tHQNi','⛔️\x20签到失败!\x20','DQypi','yitian','closeSceneById','eNcOE','AsOCm','storage','getUserSpaceSignInDetail','GFNqk','vFFgX','用户需要去登录','ZqmXE','timeout','IS_DEDUG','bigdata','npqMj','IDwjX','DCnZH','PndJO','11oHQYhW','sorfq','2509670WyNjrU','toLowerCase','tGFEg','XYDTl','startSceneById','MJxat','qnaOx','.askProduct-item','then','LfjzR','https://developer.aliyun.com/ask/','resourceCardInfoDTOList','🔷账号','index','getdata','⛔️\x20获取\x20csrf\x20失败!\x20','CaBCO','fromEntries','MDHQo','polardb','ModelScope模型即服务','✅\x20评价电子书:\x20','🎉\x20领取积分:\x20','PlYys','eICqN','.askProduct-list','getGroupItems','弹性计算','⛔️\x20获取场景失败!\x20','finally','✅\x20随机获取问题问答id:\x20','\x0a==================\x20任务\x20==================\x0a','dsctm','⛔️\x20loadModule\x20run\x20error\x20=>\x20','KLAVe','/sign/getUserSpaceSignInDetail','感谢博主的分享','⛔️\x20查询待收获积分列表失败!\x20',',\x20待领取积分:\x20','⛔️\x20获取Cookie失败!','\x20分【','getUser','true','⛔️\x20账号','OnsRd','token','⛔️\x20','⛔️\x20请求发起失败！原因为:\x20','env','setHours',',\x20当前积分:\x20','✅Cheerio模块加载成功,请继续','/task/getTaskGroup?groupId=','⛔️\x20查询领奖条件失败!\x20','data-id','✅\x20随机电子书id:\x20','oOLOs','Wqpqq','notifyList','https://developer.aliyun.com/adc/api/createResourceById','FaXRU','allSettled','kwtHx','wait','⛔️\x20文章点赞失败!\x20','receiveSignInBonus','BunEv','\x20>>\x20Check\x20ck\x20error!','dlGPQ','IKBBE','共找到','rZKtk','indexOf','jbePd','jKANv','nYupe','rQbAE','PolarDB开源','oHSny','match','EAqKQ','🎉\x20当前积分:\x20','join','Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2016_6\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20AliApp(Aliyun/6.7.1)\x20WindVane/8.7.2\x201170x2532\x20WK','isNode','OGEuF','isSurge','setdata','xIJRp','EBLtK','getUserTotalPendingScore','BCPBy','oMOgV','aliyun_linux','lEXgi','getCsrfToken','https://ucc.aliyun.com/uccPagingComponent/getUser','NCdcd','itemTitle','title','ckStatus','voteAnswer','.feed-item','WterE','Content-Type','attr','文章点赞','JhypA','MCRny','aliyunWeb_data','.community-list','113606mVnhcG','sendNotify','developer-ecology-group','startsWith','⛔️\x20评价电子书失败!\x20'];_0x3864=function(){return _0x525ff1;};return _0x3864();}const $=new Env(_0x5c66b1(0x14f)),ckName=_0x5c66b1(0x104),controlTime=($[_0x5c66b1(0xeb)]()?process[_0x5c66b1(0x273)][_0x5c66b1(0x1f6)]:$[_0x5c66b1(0x251)](_0x5c66b1(0x1f6)))||'12',Notify=0x1,notify=$[_0x5c66b1(0xeb)]()?require(_0x5c66b1(0x203)):'';let envSplitor=['@'];var userCookie=($[_0x5c66b1(0xeb)]()?process['env'][ckName]:$['getdata'](ckName))||'';let userList=[],userIdx=0x0,userCount=0x0;const taskGroup=[{'code':'','name':'我的社区'},{'code':'ecs','name':_0x5c66b1(0x25e)},{'code':'computenest','name':_0x5c66b1(0x229)},{'code':_0x5c66b1(0x230),'name':'倚天'},{'code':_0x5c66b1(0x139),'name':'云原生'},{'code':_0x5c66b1(0x234),'name':_0x5c66b1(0x152)},{'code':_0x5c66b1(0x150),'name':_0x5c66b1(0x185)},{'code':_0x5c66b1(0x207),'name':_0x5c66b1(0x22b)},{'code':_0x5c66b1(0x256),'name':_0x5c66b1(0x290)},{'code':_0x5c66b1(0x23c),'name':'大数据与机器学习'},{'code':_0x5c66b1(0x173),'name':_0x5c66b1(0x257)},{'code':_0x5c66b1(0x1d5),'name':_0x5c66b1(0x227)},{'code':_0x5c66b1(0x1b7),'name':'物联网'},{'code':'devops','name':_0x5c66b1(0x218)},{'code':_0x5c66b1(0xf4),'name':_0x5c66b1(0x156)},{'code':_0x5c66b1(0x1c1),'name':'百炼大模型'},{'code':_0x5c66b1(0x12b),'name':'通义大模型'}];$[_0x5c66b1(0x1c9)]=($['isNode']()?process[_0x5c66b1(0x273)][_0x5c66b1(0x23b)]:$[_0x5c66b1(0x251)](_0x5c66b1(0x1c9)))||_0x5c66b1(0x15e),$['notifyList']=[],$['notifyMsg']=[];let pendingScore=0x0,userScore=0x0,sceneId='',resourceFrom='',sectionId='',ip='';async function main(){const _0x1fbe9f=_0x5c66b1,_0x1c3a87={'mJzzC':function(_0x35322e,_0x4535c0){return _0x35322e<_0x4535c0;},'TVGzQ':'ebook','LAfMO':_0x1fbe9f(0x15b),'oOLOs':'aliyun-public-favorite','sjTDj':function(_0x3bc1f6,_0x93806c){return _0x3bc1f6===_0x93806c;},'BunEv':'ask','IDwjX':function(_0x15fef2,_0x5c1a4d){return _0x15fef2(_0x5c1a4d);},'LKOTA':function(_0x31cd86,_0x3f3fa3){return _0x31cd86(_0x3f3fa3);}};try{$[_0x1fbe9f(0x1af)](_0x1fbe9f(0x262));for(let _0x2da98e of userList){console[_0x1fbe9f(0x1af)](_0x1fbe9f(0x24f)+_0x2da98e[_0x1fbe9f(0x250)]+_0x1fbe9f(0x21e)),console[_0x1fbe9f(0x1af)]('随机延迟'+_0x2da98e[_0x1fbe9f(0x1de)]()+'秒');const _0x5550e7=Date[_0x1fbe9f(0x1cc)]();userScore=await _0x2da98e[_0x1fbe9f(0x1e5)]()??{};if(_0x2da98e['ckStatus']){if(_0x1c3a87[_0x1fbe9f(0x1ea)](_0x5550e7,new Date(new Date()[_0x1fbe9f(0x274)](Math[_0x1fbe9f(0x1b4)](controlTime),0x0,0x0,0x0))[_0x1fbe9f(0x1e9)]())){for(let _0x1595e6 of taskGroup){const _0x2f71cb=await _0x2da98e[_0x1fbe9f(0x235)](_0x1595e6[_0x1fbe9f(0x18e)]),_0x3d9828=await _0x2da98e[_0x1fbe9f(0x155)](_0x2f71cb);await _0x2da98e['signin'](_0x3d9828,_0x1595e6['name']),await $[_0x1fbe9f(0x282)](_0x2da98e['getRandomTime']());const _0x45b48a=await _0x2da98e[_0x1fbe9f(0x14e)](_0x2f71cb,_0x1595e6[_0x1fbe9f(0x1ff)]);await $[_0x1fbe9f(0x282)](_0x2da98e[_0x1fbe9f(0x1de)]()),_0x45b48a&&(await _0x2da98e[_0x1fbe9f(0x284)](_0x2f71cb,_0x1595e6[_0x1fbe9f(0x1ff)]),await $[_0x1fbe9f(0x282)](_0x2da98e[_0x1fbe9f(0x1de)]()));}const _0x465375=await _0x2da98e[_0x1fbe9f(0x178)]();await $['wait'](_0x2da98e[_0x1fbe9f(0x1de)]());const _0x3d5599=await _0x2da98e['getCsrfToken'](_0x465375,_0x1c3a87[_0x1fbe9f(0x127)]);await $[_0x1fbe9f(0x282)](_0x2da98e[_0x1fbe9f(0x1de)]()),await _0x2da98e[_0x1fbe9f(0x10b)](_0x465375,_0x3d5599),await $[_0x1fbe9f(0x282)](_0x2da98e[_0x1fbe9f(0x1de)]());for(let _0x1c1f80=0x0;_0x1c1f80<0x5;_0x1c1f80++){const _0x504c4a=await _0x2da98e['getArticles']();await $[_0x1fbe9f(0x282)](_0x2da98e[_0x1fbe9f(0x1de)]()),await _0x2da98e['likeOrNotLike'](_0x504c4a,_0x1c3a87[_0x1fbe9f(0x170)],0x0),await $['wait'](_0x2da98e[_0x1fbe9f(0x1de)]()),await _0x2da98e[_0x1fbe9f(0x116)](_0x504c4a,_0x1c3a87[_0x1fbe9f(0x27b)],0x0),await $[_0x1fbe9f(0x282)](_0x2da98e[_0x1fbe9f(0x1de)]());_0x1c3a87[_0x1fbe9f(0x19b)](_0x1c1f80,0x0)&&(await _0x2da98e[_0x1fbe9f(0x197)](_0x504c4a),await $['wait'](_0x2da98e[_0x1fbe9f(0x1de)]()),await _0x2da98e[_0x1fbe9f(0x116)](_0x504c4a,'aliyun-public-share',0x0),await $[_0x1fbe9f(0x282)](_0x2da98e['getRandomTime']()));const _0xf3cc0a=await _0x2da98e['getAsks']();await $[_0x1fbe9f(0x282)](_0x2da98e['getRandomTime']());if(_0xf3cc0a&&_0xf3cc0a?.['id']){const _0x381c9a=await _0x2da98e[_0x1fbe9f(0xf6)](_0xf3cc0a['id'],_0x1c3a87[_0x1fbe9f(0x285)]);await $['wait'](_0x2da98e[_0x1fbe9f(0x1de)]());const _0x45b174=await _0x2da98e['getAskDetail'](_0xf3cc0a);await $[_0x1fbe9f(0x282)](_0x2da98e['getRandomTime']()),_0x45b174&&(await _0x2da98e[_0x1fbe9f(0xfc)](_0xf3cc0a['id'],_0x45b174,_0x381c9a,0x1),await $[_0x1fbe9f(0x282)](_0x2da98e[_0x1fbe9f(0x1de)]()));}}await _0x2da98e[_0x1fbe9f(0x184)](),pendingScore=await _0x2da98e[_0x1fbe9f(0xf1)](),$[_0x1fbe9f(0xfa)]='获得待领取积分:\x20'+pendingScore,_0x1c3a87[_0x1fbe9f(0x23e)](DoubleLog,_0x1fbe9f(0x294)+userScore+_0x1fbe9f(0x269)+pendingScore);}else{for(let _0x5185af of taskGroup){const _0x8cdf61=await _0x2da98e[_0x1fbe9f(0x235)](_0x5185af['code']),_0x43df10=await _0x2da98e[_0x1fbe9f(0x14e)](_0x8cdf61,_0x5185af[_0x1fbe9f(0x1ff)]);await $[_0x1fbe9f(0x282)](_0x2da98e[_0x1fbe9f(0x1de)]()),_0x43df10&&(await _0x2da98e[_0x1fbe9f(0x284)](_0x8cdf61,_0x5185af[_0x1fbe9f(0x1ff)]),await $[_0x1fbe9f(0x282)](_0x2da98e['getRandomTime']()));}pendingScore=await _0x2da98e['getUserTotalPendingScore'](),await $[_0x1fbe9f(0x282)](_0x2da98e[_0x1fbe9f(0x1de)]()),await _0x2da98e['collect'](),await $[_0x1fbe9f(0x282)](_0x2da98e[_0x1fbe9f(0x1de)]()),await $['wait'](_0x2da98e[_0x1fbe9f(0x1de)]());const _0x4eb1bc=await _0x2da98e['getFavors']()??[];await $[_0x1fbe9f(0x282)](_0x2da98e[_0x1fbe9f(0x1de)]());if(_0x4eb1bc[_0x1fbe9f(0x121)])for(let _0x2093ea of _0x4eb1bc){await _0x2da98e['likeOrNotLike'](_0x2093ea[_0x1fbe9f(0x190)],_0x1c3a87[_0x1fbe9f(0x170)],0x1),await $['wait'](_0x2da98e[_0x1fbe9f(0x1de)]()),await _0x2da98e[_0x1fbe9f(0x116)](_0x2093ea[_0x1fbe9f(0x190)],_0x1c3a87[_0x1fbe9f(0x27b)],0x1),await $['wait'](_0x2da98e[_0x1fbe9f(0x1de)]());}await _0x2da98e[_0x1fbe9f(0x25d)]();let _0xc0ae31=await _0x2da98e[_0x1fbe9f(0x1e5)]()??{};$[_0x1fbe9f(0xfa)]=_0x1fbe9f(0x16c)+(pendingScore||0x0)+'积分',_0x1c3a87[_0x1fbe9f(0x162)](DoubleLog,_0x1fbe9f(0x259)+pendingScore+_0x1fbe9f(0x275)+_0xc0ae31);}}else $[_0x1fbe9f(0x1d2)][_0x1fbe9f(0x224)](_0x1fbe9f(0x26e)+(_0x2da98e['userName']||_0x2da98e['index'])+_0x1fbe9f(0x286));$[_0x1fbe9f(0x27d)]['push']({'id':_0x2da98e[_0x1fbe9f(0x250)],'avatar':_0x2da98e[_0x1fbe9f(0x114)],'message':$[_0x1fbe9f(0x1d2)]}),$[_0x1fbe9f(0x1d2)]=[];}}catch(_0x438295){$[_0x1fbe9f(0x1af)](_0x1fbe9f(0x19d)+_0x438295);throw new Error(_0x1fbe9f(0x19d)+_0x438295);}}class UserInfo{constructor(_0x5d2d82){const _0x343c1a=_0x5c66b1,_0xae3d7f={'NjzhE':_0x343c1a(0x1a9),'QbbTo':function(_0x49ec86,_0x56df76){return _0x49ec86+_0x56df76;},'kwtHx':function(_0x19b76e,_0x42cf7e){return _0x19b76e(_0x42cf7e);},'AUkxB':function(_0x2a21bf,_0x256425){return _0x2a21bf+_0x256425;},'GdrOB':function(_0x5d51b6,_0x4ab813){return _0x5d51b6==_0x4ab813;},'boksN':_0x343c1a(0x145),'BshwV':_0x343c1a(0x1a3)};this[_0x343c1a(0x250)]=++userIdx,this[_0x343c1a(0x270)]=_0x5d2d82[_0x343c1a(0x270)]||_0x5d2d82,this['userId']=_0x5d2d82[_0x343c1a(0x110)],this[_0x343c1a(0x120)]=_0x5d2d82[_0x343c1a(0x120)],this[_0x343c1a(0x114)]=_0x5d2d82[_0x343c1a(0x114)],this[_0x343c1a(0xfb)]=!![],this[_0x343c1a(0x128)]='',this[_0x343c1a(0x21b)]=_0xae3d7f[_0x343c1a(0x228)],this['headers']={'Cookie':this[_0x343c1a(0x270)],'User-Agent':_0xae3d7f[_0x343c1a(0x169)],'Referer':_0x343c1a(0x10f)},this['getRandomTime']=()=>randomInt(0x1,0x2),this[_0x343c1a(0x175)]=async _0x396850=>{const _0x5c3bec=_0x343c1a;try{if(typeof _0x396850===_0xae3d7f[_0x5c3bec(0x1d0)])_0x396850={'url':_0x396850};if(_0x396850?.[_0x5c3bec(0x1ef)]?.[_0x5c3bec(0x109)]('/'))_0x396850['url']=_0xae3d7f[_0x5c3bec(0x1cf)](this['host'],_0x396850[_0x5c3bec(0x1ef)]);const _0x831a48=await _0xae3d7f[_0x5c3bec(0x281)](Request,{..._0x396850,'headers':_0x396850['headers']||this['headers'],'url':_0x396850[_0x5c3bec(0x1ef)]||this['baseUrl']});debug(_0x831a48,_0x396850?.[_0x5c3bec(0x1ef)]?.[_0x5c3bec(0x1d3)](/\/+$/,'')[_0x5c3bec(0x20c)](_0xae3d7f[_0x5c3bec(0x1cb)](_0x396850?.[_0x5c3bec(0x1ef)]?.[_0x5c3bec(0x1fa)]('/'),0x1)));if(_0xae3d7f[_0x5c3bec(0x126)](_0x831a48?.[_0x5c3bec(0x18e)],0x9c41))throw new Error(_0x831a48?.[_0x5c3bec(0x142)]||_0x5c3bec(0x238));return _0x831a48;}catch(_0x37f784){this['ckStatus']=![],$[_0x5c3bec(0x1af)](_0x5c3bec(0x13c)+_0x37f784);}};}async[_0x5c66b1(0x26c)](){const _0x5a18b5=_0x5c66b1,_0xe88f8c={'BCPBy':_0x5a18b5(0x11e)};try{const _0x47d0d3={'url':_0x5a18b5(0x1a5),'type':_0xe88f8c[_0x5a18b5(0xf2)]};await this['fetch'](_0x47d0d3);}catch(_0x393296){this[_0x5a18b5(0xfb)]=![],$[_0x5a18b5(0x1af)](_0x5a18b5(0x1e7)+_0x393296);}}async['assessSignInBonusQualification'](_0x481a3b,_0xc2a478){const _0x49baaf=_0x5c66b1,_0x347706={'HscXo':_0x49baaf(0x11e)};try{const _0x35c614={'url':'/sign/assessSignInBonusQualification','type':_0x347706[_0x49baaf(0x11a)],'params':{'taskGroupId':_0x481a3b}};let _0x5a0e61=await this[_0x49baaf(0x175)](_0x35c614);return _0x5a0e61?.[_0x49baaf(0x20d)];}catch(_0x11a9ac){this[_0x49baaf(0xfb)]=![],$[_0x49baaf(0x1af)](_0x49baaf(0x278)+_0x11a9ac);}}async[_0x5c66b1(0x284)](_0x1bb0c5,_0x2871a5){const _0x45ee00=_0x5c66b1,_0x1b2f81={'mpqzg':_0x45ee00(0x135),'HKPYb':function(_0x4a4aeb,_0x1eb28e){return _0x4a4aeb==_0x1eb28e;},'EaCfX':_0x45ee00(0x168),'rgwsY':'default','PlYys':function(_0x20b91f,_0x7c2201){return _0x20b91f||_0x7c2201;}};try{const _0x5a398b={'url':_0x45ee00(0x1d7),'type':_0x45ee00(0x1ae),'dataType':_0x1b2f81['mpqzg'],'body':{'taskGroupId':_0x1bb0c5}};let _0x54269c=await this['fetch'](_0x5a398b);if(_0x1b2f81[_0x45ee00(0x1f0)](_0x54269c?.['code'],_0x1b2f81['EaCfX'])){const _0x3b1877=_0x54269c?.[_0x45ee00(0x20d)]||0x0;$[_0x45ee00(0x1af)]('✅\x20抽奖\x20-\x20'+(_0x2871a5||_0x1b2f81['rgwsY'])+':\x20获得\x20'+_0x3b1877+_0x45ee00(0x1e8));}else $[_0x45ee00(0x1af)](_0x45ee00(0x1c0)+_0x1b2f81[_0x45ee00(0x25a)](_0x2871a5,_0x1b2f81[_0x45ee00(0x195)])+':\x20'+_0x54269c?.[_0x45ee00(0x142)]);}catch(_0x5526a8){this[_0x45ee00(0xfb)]=![],$[_0x45ee00(0x1af)](_0x45ee00(0x166)+_0x5526a8);}}async[_0x5c66b1(0x235)](_0xdf63f7){const _0x3ff018=_0x5c66b1,_0x4a4909={'epNjM':'get'};try{const _0x220a35={'url':_0x3ff018(0x266),'type':_0x4a4909[_0x3ff018(0x198)],'params':{'excode':_0xdf63f7}};let _0x331d6c=await this[_0x3ff018(0x175)](_0x220a35);const _0x3db85a=_0x331d6c?.[_0x3ff018(0x20d)]?.[_0x3ff018(0x188)];return _0x3db85a;}catch(_0x17bbcd){this[_0x3ff018(0xfb)]=![],$[_0x3ff018(0x1af)](_0x3ff018(0x1e7)+_0x17bbcd);}}async[_0x5c66b1(0x155)](_0x3fce24){const _0x33f5d9=_0x5c66b1,_0x85bed7={'mEvBn':_0x33f5d9(0x11e),'rQbAE':function(_0x581ccb,_0x2eba43){return _0x581ccb>=_0x2eba43;},'lEXgi':function(_0x5d8880,_0x2d247c){return _0x5d8880<=_0x2d247c;}};try{const _0x2c9724={'url':_0x33f5d9(0x277)+_0x3fce24,'type':_0x85bed7['mEvBn']};let _0x40b8eb=await this[_0x33f5d9(0x175)](_0x2c9724);const _0x9db7d6=_0x40b8eb?.[_0x33f5d9(0x20d)]?.['taskList'];let _0x2a1a92={};if(_0x9db7d6['length']){const _0x5c1e9c=new Date()[_0x33f5d9(0x1e9)]();for(let _0x3fb189 of _0x9db7d6){if(_0x85bed7[_0x33f5d9(0x28f)](_0x5c1e9c,_0x3fb189[_0x33f5d9(0x179)])&&_0x85bed7[_0x33f5d9(0xf5)](_0x5c1e9c,_0x3fb189[_0x33f5d9(0x1aa)])){const _0x209eeb=JSON['parse'](_0x3fb189[_0x33f5d9(0x19e)][_0x33f5d9(0x1d3)](/&quot;/g,'\x22'));_0x2a1a92[_0x33f5d9(0x1f5)]=_0x209eeb['actions'][0x0][_0x33f5d9(0x1f5)],_0x2a1a92['activityCode']=_0x209eeb[_0x33f5d9(0x216)][0x0][_0x33f5d9(0x1f5)],_0x2a1a92['objectId']=_0x209eeb[_0x33f5d9(0x216)][0x0][_0x33f5d9(0x190)];}}}return _0x2a1a92;}catch(_0x47abb4){this['ckStatus']=![],$[_0x33f5d9(0x1af)]('⛔️\x20获取签到任务列表失败!\x20'+_0x47abb4);}}async[_0x5c66b1(0x180)](_0x1cb96d,_0x2af337){const _0x169676=_0x5c66b1,_0x525143={'OeYoK':'/task/actionLog','dDGXH':'form','VDbEA':function(_0x30a381,_0x30d4e8){return _0x30a381||_0x30d4e8;},'eICqN':'default'};try{const _0x4647b4={'url':_0x525143[_0x169676(0x176)],'type':_0x169676(0x1ae),'dataType':_0x525143[_0x169676(0x1c4)],'body':_0x1cb96d};let _0x3477c5=await this[_0x169676(0x175)](_0x4647b4);$[_0x169676(0x1af)](_0x169676(0x19a)+_0x525143[_0x169676(0x149)](_0x2af337,_0x525143[_0x169676(0x25b)])+':\x20'+_0x3477c5?.['message']);}catch(_0x404e75){this[_0x169676(0xfb)]=![],$['log'](_0x169676(0x22e)+_0x404e75);}}async['getArticles'](){const _0x434582=_0x5c66b1,_0x4a6820={'sHJiK':_0x434582(0xfd),'ZqmXE':_0x434582(0x279),'sQfZR':function(_0x20cde0,_0x25391d){return _0x20cde0(_0x25391d);},'WterE':_0x434582(0x214),'NCdcd':function(_0x5139e8,_0x29e5b1){return _0x5139e8+_0x29e5b1;},'mgZfq':function(_0x3aec87,_0x385e8a){return _0x3aec87*_0x385e8a;},'KAdkN':function(_0x2ed0e9,_0x37a32c){return _0x2ed0e9(_0x37a32c);},'qnaOx':_0x434582(0x105),'MDHQo':function(_0x3c65ec,_0x21c3be){return _0x3c65ec*_0x21c3be;}};try{const _0x2d8f24=_0x4a6820[_0x434582(0xf8)](Math['floor'](_0x4a6820[_0x434582(0x1c5)](Math['random'](),0x1f)),0x1),_0x50a43b={'url':_0x434582(0x1bc)+_0x2d8f24,'type':'get'};let _0x3362f9=await this[_0x434582(0x175)](_0x50a43b);const _0x167ec4=$[_0x434582(0x22c)]['load'](_0x3362f9),_0x59c505=_0x4a6820[_0x434582(0x123)](_0x167ec4,'.community-detail-content'),_0x2b37cc=_0x59c505[_0x434582(0x1bd)](_0x4a6820[_0x434582(0x249)])[_0x434582(0x19c)]((_0x1c5ed5,_0x2337cf)=>{const _0x44defa=_0x434582;return{'id':_0x167ec4(_0x2337cf)['find'](_0x4a6820[_0x44defa(0x1da)])[_0x44defa(0x100)](_0x4a6820[_0x44defa(0x239)]),'name':_0x4a6820['sQfZR'](_0x167ec4,_0x2337cf)[_0x44defa(0x1bd)](_0x4a6820[_0x44defa(0xfe)])[_0x44defa(0x11b)]()};})[_0x434582(0x11e)](),_0x3d000f=_0x2b37cc[Math['floor'](_0x4a6820[_0x434582(0x255)](Math[_0x434582(0x122)](),_0x2b37cc[_0x434582(0x121)]))],{id:_0x177376,name:_0x4f8ac4}=_0x3d000f;return $['log']('✅\x20随机获取文章id:\x20'+_0x177376+_0x434582(0x13e)+_0x4f8ac4),_0x177376;}catch(_0x5e8d26){this[_0x434582(0xfb)]=![],$[_0x434582(0x1af)]('⛔️\x20获取文章列表失败!\x20'+_0x5e8d26);}}async[_0x5c66b1(0x178)](){const _0x5020c7=_0x5c66b1,_0x3ea459={'OnsRd':function(_0x12e1e4,_0x39b2f4){return _0x12e1e4(_0x39b2f4);},'fzfaV':'href','CaBCO':_0x5020c7(0x182),'zBABI':function(_0x34e7ee,_0x18ba0a){return _0x34e7ee+_0x18ba0a;},'vFFgX':function(_0x1f9776,_0x2b1fca){return _0x1f9776*_0x2b1fca;},'RMhlC':_0x5020c7(0x11e),'DQypi':_0x5020c7(0x1bf),'lcxUF':function(_0x173810,_0x523b24){return _0x173810*_0x523b24;}};try{const _0x27acb1=_0x3ea459[_0x5020c7(0x146)](Math[_0x5020c7(0x1b4)](_0x3ea459[_0x5020c7(0x237)](Math[_0x5020c7(0x122)](),0x1f5)),0x1),_0x36365e={'url':_0x5020c7(0x191)+_0x27acb1,'type':_0x3ea459[_0x5020c7(0x215)]};let _0x500ddc=await this[_0x5020c7(0x175)](_0x36365e);const _0x4255b8=$[_0x5020c7(0x22c)]['load'](_0x500ddc),_0x2c6c1f=_0x4255b8(_0x3ea459[_0x5020c7(0x22f)]),_0xdc6a2e=_0x2c6c1f[_0x5020c7(0x1bd)]('.ebook-home-item')['map']((_0x13d664,_0xc06b94)=>{const _0x22c028=_0x5020c7;return{'id':_0x3ea459[_0x22c028(0x26f)](_0x4255b8,_0xc06b94)['attr'](_0x3ea459[_0x22c028(0x221)])[_0x22c028(0x1d3)](_0x22c028(0x13d),''),'name':_0x3ea459[_0x22c028(0x26f)](_0x4255b8,_0xc06b94)[_0x22c028(0x1bd)](_0x3ea459[_0x22c028(0x253)])[_0x22c028(0x11b)]()};})['get'](),_0x27bdac=_0xdc6a2e[Math[_0x5020c7(0x1b4)](_0x3ea459['lcxUF'](Math[_0x5020c7(0x122)](),_0xdc6a2e[_0x5020c7(0x121)]))],{id:_0x458a7c,name:_0x3be7cc}=_0x27bdac;return $['log'](_0x5020c7(0x27a)+_0x458a7c+',\x20标题:\x20'+_0x3be7cc),_0x458a7c;}catch(_0x10b3f6){this['ckStatus']=![],$[_0x5020c7(0x1af)](_0x5020c7(0x137)+_0x10b3f6);}}async[_0x5c66b1(0x119)](){const _0xcde118=_0x5c66b1,_0x48d069={'AiSbb':function(_0x51d4fa,_0x52960c){return _0x51d4fa(_0x52960c);},'dsctm':function(_0x3a89fb,_0x576988){return _0x3a89fb(_0x576988);},'zRIBF':function(_0x3af161,_0x442872){return _0x3af161(_0x442872);},'npqMj':_0xcde118(0x16f),'qPYVZ':function(_0x58d287,_0x27bc86){return _0x58d287+_0x27bc86;},'pgkCA':_0xcde118(0x25c),'DdJpw':_0xcde118(0x24a),'KWIao':function(_0x28d3e5,_0x13334f){return _0x28d3e5*_0x13334f;}};try{const _0x5c7b6d=_0x48d069[_0xcde118(0x1fe)](Math[_0xcde118(0x1b4)](Math['random']()*0x1f),0x1),_0x403f9b={'url':'https://developer.aliyun.com/ask?pageNum='+_0x5c7b6d,'type':_0xcde118(0x11e)};let _0x3c57da=await this[_0xcde118(0x175)](_0x403f9b);const _0x4f29d8=$['Cheerio'][_0xcde118(0x1a0)](_0x3c57da),_0x43fee=_0x48d069['zRIBF'](_0x4f29d8,_0x48d069['pgkCA']),_0x17fc72=_0x43fee[_0xcde118(0x1bd)](_0x48d069[_0xcde118(0x118)])[_0xcde118(0x19c)]((_0x5143d9,_0x4b69f4)=>{const _0x329141=_0xcde118;return{'id':_0x48d069[_0x329141(0x148)](_0x4f29d8,_0x4b69f4)['attr'](_0x329141(0x279))||'','name':_0x48d069[_0x329141(0x148)](_0x4f29d8,_0x4b69f4)['find']('.askProduct-item-title-text\x20h3')[_0x329141(0x11b)]()||'','answer':_0x48d069[_0x329141(0x263)](parseInt,_0x48d069[_0x329141(0x17b)](_0x4f29d8,_0x4b69f4)['find'](_0x48d069[_0x329141(0x23d)])[_0x329141(0x11b)]())||''};})[_0xcde118(0x144)]((_0x58e344,_0x268bdd)=>_0x268bdd['answer']>0x0)[_0xcde118(0x11e)](),_0x5d258a=_0x17fc72[Math[_0xcde118(0x1b4)](_0x48d069['KWIao'](Math['random'](),_0x17fc72[_0xcde118(0x121)]))];if(_0x5d258a?.['id']&&_0x5d258a?.['name']){const {id:_0x23a04c,name:_0x1920cd}=_0x5d258a;return $['log'](_0xcde118(0x1c3)+_0x23a04c+_0xcde118(0x13e)+_0x1920cd),_0x5d258a;}return null;}catch(_0x4af7ec){this[_0xcde118(0xfb)]=![],$[_0xcde118(0x1af)](_0xcde118(0x199)+_0x4af7ec);}}async[_0x5c66b1(0x11d)](_0x2ee235){const _0x7c1732=_0x5c66b1,_0x3a22ca={'ZKLUm':function(_0x49f3bc,_0x335d4d){return _0x49f3bc(_0x335d4d);},'DCnZH':_0x7c1732(0x279),'lzIxk':_0x7c1732(0x11e),'ruWuW':function(_0x29ff48,_0x3af419){return _0x29ff48(_0x3af419);},'IKBBE':_0x7c1732(0x18b),'vrKMv':function(_0x177d0c,_0x1ea573){return _0x177d0c*_0x1ea573;}};try{const _0x366e6d={'url':_0x7c1732(0x24d)+_0x2ee235['id'],'type':_0x3a22ca[_0x7c1732(0x12e)]};let _0x625656=await this['fetch'](_0x366e6d);const _0x4b15c0=$[_0x7c1732(0x22c)]['load'](_0x625656),_0x5be6e2=_0x3a22ca[_0x7c1732(0x1d8)](_0x4b15c0,_0x3a22ca[_0x7c1732(0x288)]),_0x5c1a3b=_0x5be6e2[_0x7c1732(0x1bd)](_0x7c1732(0x167))[_0x7c1732(0x19c)]((_0xc3a2fa,_0x1d6c23)=>{const _0x489a89=_0x7c1732;return{'id':_0x3a22ca['ZKLUm'](_0x4b15c0,_0x1d6c23)['attr'](_0x3a22ca[_0x489a89(0x23f)])||''};})[_0x7c1732(0x11e)](),_0x24b844=_0x5c1a3b[Math[_0x7c1732(0x1b4)](_0x3a22ca[_0x7c1732(0x1df)](Math[_0x7c1732(0x122)](),_0x2ee235[_0x7c1732(0x1f2)]))];if(_0x24b844){const {id:_0x465c3d}=_0x24b844;return $[_0x7c1732(0x1af)](_0x7c1732(0x261)+_0x465c3d),_0x465c3d;}return null;}catch(_0x21dee0){this['ckStatus']=![],$[_0x7c1732(0x1af)](_0x7c1732(0x181)+_0x21dee0);}}async['likeOrNotLike'](_0x567561,_0x2c2df6,_0x2a5a78){const _0x4ceee6=_0x5c66b1,_0x6582bb={'JhypA':_0x4ceee6(0x11e),'ZRrFN':_0x4ceee6(0x17a),'hcBUh':function(_0x18a230){return _0x18a230();},'RVvvH':function(_0x219074,_0x2e9d52){return _0x219074===_0x2e9d52;},'RIWUF':function(_0x3de3bd,_0x2b68d7){return _0x3de3bd===_0x2b68d7;},'xubFz':_0x4ceee6(0x16e),'nmLRj':function(_0x23b083,_0x509468){return _0x23b083===_0x509468;}};try{const _0x2fac0d={'url':'https://ucc.aliyun.com/uccPagingComponent/likeOrNotLike','type':_0x6582bb[_0x4ceee6(0x102)],'params':{'bizCategory':_0x6582bb[_0x4ceee6(0x1b0)],'actionCode':_0x2c2df6,'objectId':_0x567561,'status':_0x2a5a78,'uccCsrfToken':await this['getUccCsrfToken'](),'callback':_0x6582bb['hcBUh'](getCallback)}};await this[_0x4ceee6(0x175)](_0x2fac0d);let _0x123c0b='文章'+(_0x6582bb[_0x4ceee6(0x1fd)](_0x2a5a78,0x1)?'取消':'');if(_0x6582bb[_0x4ceee6(0x21c)](_0x2c2df6,'aliyun-public-like'))_0x123c0b+='点赞';else{if(_0x2c2df6===_0x6582bb[_0x4ceee6(0x1e4)])_0x123c0b+='收藏';else _0x6582bb[_0x4ceee6(0x13f)](_0x2c2df6,_0x4ceee6(0x196))&&(_0x123c0b+='分享');}$['log']('✅\x20'+_0x123c0b+_0x4ceee6(0x1be)+_0x567561);}catch(_0xf5d0d2){this[_0x4ceee6(0xfb)]=![],$[_0x4ceee6(0x1af)]('⛔️\x20'+taskType+'失败!\x20'+_0xf5d0d2);}}async[_0x5c66b1(0xf6)](_0x4b90f6,_0x4592f6){const _0xfee3f3=_0x5c66b1,_0x32c80f={'aCPyB':_0xfee3f3(0x11e),'vKPng':_0xfee3f3(0xea)};try{const _0x4e9a9f={'url':'https://developer.aliyun.com/csrfToken','type':_0x32c80f[_0xfee3f3(0x12c)],'headers':{'Cookie':this[_0xfee3f3(0x270)],'User-Agent':_0x32c80f[_0xfee3f3(0x1cd)],'Referer':_0xfee3f3(0x10f)+_0x4592f6+'/'+_0x4b90f6}},_0x48a0a9=await this[_0xfee3f3(0x175)](_0x4e9a9f);return _0x48a0a9?.['token'];}catch(_0x92f146){this['ckStatus']=![],$[_0xfee3f3(0x1af)](_0xfee3f3(0x252)+_0x92f146);}}async[_0x5c66b1(0xfc)](_0x3d3833,_0x5b6c9f,_0x4d253a,_0x4f8768){const _0xed307=_0x5c66b1,_0x1ef226={'DYmZh':_0xed307(0x1ae),'jbePd':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2016_6\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20AliApp(Aliyun/6.7.1)\x20WindVane/8.7.2\x201170x2532\x20WK'};try{const _0xb19069={'url':'https://developer.aliyun.com/developer/api/my/ask/voteAnswer','type':_0x1ef226['DYmZh'],'dataType':'form','headers':{'Cookie':this[_0xed307(0x270)],'User-Agent':_0x1ef226[_0xed307(0x28c)],'Referer':_0xed307(0x24d)+_0x3d3833},'params':{'p_csrf':_0x4d253a},'body':{'id':_0x5b6c9f,'votes':_0x4f8768}};await this[_0xed307(0x175)](_0xb19069),$[_0xed307(0x1af)](_0xed307(0x1f3)+_0x3d3833+'-'+_0x5b6c9f);}catch(_0x297a29){this[_0xed307(0xfb)]=![],$[_0xed307(0x1af)](_0xed307(0x206)+_0x297a29);}}async['addBookComment'](_0x2b0d4a,_0x22bfef){const _0x3bfd22=_0x5c66b1,_0x1d594c={'iFayH':_0x3bfd22(0xea),'GyaBP':_0x3bfd22(0x138),'avJya':function(_0xa9b830,_0x5a683d){return _0xa9b830==_0x5a683d;}};try{const _0x3ac0a9={'url':_0x3bfd22(0x18a),'type':_0x3bfd22(0x1ae),'dataType':'json','headers':{'Cookie':this[_0x3bfd22(0x270)],'User-Agent':_0x1d594c[_0x3bfd22(0x204)],'Referer':'https://developer.aliyun.com/ebook/'+_0x2b0d4a},'params':{'p_csrf':_0x22bfef},'body':{'eBookId':_0x2b0d4a,'score':0xa,'content':_0x1d594c[_0x3bfd22(0x160)]}},_0x5594d5=await this[_0x3bfd22(0x175)](_0x3ac0a9);_0x1d594c[_0x3bfd22(0x1bb)](_0x5594d5?.[_0x3bfd22(0x18e)],_0x3bfd22(0x168))?$['log'](_0x3bfd22(0x258)+_0x2b0d4a):$['log']('⛔️\x20评价电子书失败!\x20'+_0x5594d5?.[_0x3bfd22(0x142)]);}catch(_0x97c56f){this[_0x3bfd22(0xfb)]=![],$[_0x3bfd22(0x1af)](_0x3bfd22(0x10a)+_0x97c56f);}}async['getFavors'](){const _0x4f3d1e=_0x5c66b1,_0x3545c7={'FvRJL':_0x4f3d1e(0x22a),'wBCZK':_0x4f3d1e(0x11e),'xIJRp':_0x4f3d1e(0x15b),'OAjmw':_0x4f3d1e(0x101),'CrsGM':_0x4f3d1e(0x15a)};try{const _0x30b6a3={'url':_0x3545c7['FvRJL'],'type':_0x3545c7[_0x4f3d1e(0x10d)],'params':{'pageNum':0x1,'pageSize':0xa,'type':0x1}},_0x307662=await this[_0x4f3d1e(0x175)](_0x30b6a3),{list:_0x2594e6}=_0x307662?.['data'];if(_0x2594e6[_0x4f3d1e(0x121)])return $['log'](_0x4f3d1e(0x1d9)),_0x2594e6;return[];}catch(_0x49f0f6){this['ckStatus']=![],$[_0x4f3d1e(0x1af)](_0x4f3d1e(0x271)+(type===_0x3545c7[_0x4f3d1e(0xef)]?_0x3545c7[_0x4f3d1e(0x220)]:_0x3545c7[_0x4f3d1e(0x14b)])+'失败!\x20'+_0x49f0f6);}}async[_0x5c66b1(0x197)](_0x25416c){const _0x49a62a=_0x5c66b1,_0x340659={'zYkyL':_0x49a62a(0x21a),'jKANv':'get','Wqpqq':function(_0xb21e1b,_0x30764c){return _0xb21e1b(_0x30764c);},'MCRny':_0x49a62a(0x267),'yfUFW':_0x49a62a(0x20a),'eYWkO':'developer-ecology','eNcOE':_0x49a62a(0x108),'qppTr':function(_0x3532d8){return _0x3532d8();}};try{const _0x492798={'url':_0x340659[_0x49a62a(0x1e2)],'type':_0x340659[_0x49a62a(0x28d)],'params':{'content':_0x340659[_0x49a62a(0x27c)](encodeURIComponent,_0x340659[_0x49a62a(0x103)]),'objectId':_0x25416c,'bizCategory':_0x340659[_0x49a62a(0x14d)],'commentType':0x0,'sourceAppCode':_0x340659[_0x49a62a(0x1d4)],'sourceBizCategory':_0x340659[_0x49a62a(0x232)],'uccCsrfToken':await this[_0x49a62a(0x165)](),'callback':_0x340659[_0x49a62a(0x159)](getCallback)}};await this[_0x49a62a(0x175)](_0x492798),$[_0x49a62a(0x1af)]('✅\x20文章评论:\x20'+_0x25416c);}catch(_0x4c623f){this['ckStatus']=![],$[_0x49a62a(0x1af)](_0x49a62a(0x283)+_0x4c623f);}}async[_0x5c66b1(0x184)](){const _0x12d025=_0x5c66b1,_0x1b8980={'wVpTg':_0x12d025(0x161),'Crcsl':'6|3|5|0|2|4|1','DLrPZ':function(_0x4aba73,_0x45fa1d){return _0x4aba73===_0x45fa1d;}},_0x4705ec=this[_0x12d025(0x270)][_0x12d025(0x292)](new RegExp(_0x1b8980[_0x12d025(0x200)]))[0x1];await this['getSceneList'](),await $[_0x12d025(0x282)](this[_0x12d025(0x1de)]());const _0x2bfcec=await this[_0x12d025(0x163)]();await $[_0x12d025(0x282)](this[_0x12d025(0x1de)]());if(_0x2bfcec){const _0x26dabd=_0x1b8980['Crcsl']['split']('|');let _0x12f0d8=0x0;while(!![]){switch(_0x26dabd[_0x12f0d8++]){case'0':await $['wait'](this[_0x12d025(0x1de)]());continue;case'1':await $[_0x12d025(0x282)](this['getRandomTime']());continue;case'2':_0x1b8980[_0x12d025(0x192)](resourceFrom,'1')&&sectionId&&(await this[_0x12d025(0x15d)](_0x4705ec),await $[_0x12d025(0x282)](this[_0x12d025(0x1de)]()));continue;case'3':await $[_0x12d025(0x282)](this[_0x12d025(0x1de)]());continue;case'4':await this[_0x12d025(0x231)](_0x4705ec);continue;case'5':await this['startSceneById'](_0x4705ec);continue;case'6':await this['getSceneStartPageInfoById']();continue;}break;}}else await this[_0x12d025(0x184)]();}async[_0x5c66b1(0x125)](){const _0x51826d=_0x5c66b1,_0x3187fe={'ABdfh':function(_0x2c6f97,_0x3008fd){return _0x2c6f97+_0x3008fd;},'vJIma':function(_0x5276f7,_0x1d5a88){return _0x5276f7*_0x1d5a88;},'KQdXJ':_0x51826d(0x11e),'jrgdn':_0x51826d(0x1b9)};try{const _0x395fd6=_0x3187fe[_0x51826d(0x1b3)](Math[_0x51826d(0x1b4)](_0x3187fe['vJIma'](Math[_0x51826d(0x122)](),0x1b)),0x1),_0x4e681a=0x15,_0x5a2ecd={'url':_0x51826d(0x1e3),'type':_0x3187fe[_0x51826d(0x134)],'params':{'tags':encodeURIComponent(','),'difficulty':'','orderBy':_0x3187fe[_0x51826d(0x12d)],'pageNum':_0x395fd6,'pageSize':_0x4e681a},'headers':{'Cookie':this['headers'][_0x51826d(0x1b5)],'Referer':'https://developer.aliyun.com/adc/labs/','User-Agent':this[_0x51826d(0x18d)][_0x51826d(0x18c)]}},_0x4c36bd=await this[_0x51826d(0x175)](_0x5a2ecd),_0x581a40=_0x4c36bd?.[_0x51826d(0x20d)]?.[_0x51826d(0x12a)];if(_0x581a40[_0x51826d(0x121)]){const _0x1d2163=_0x581a40[Math['floor'](Math[_0x51826d(0x122)]()*_0x581a40[_0x51826d(0x121)])];sceneId=_0x1d2163?.['id'],headers[_0x51826d(0x13b)]=_0x51826d(0x189)+sceneId,$['log'](_0x51826d(0x11f)+_0x1d2163[_0x51826d(0x1ff)]+'['+sceneId+']');}else $[_0x51826d(0x1af)]('⛔️\x20获取场景失败!\x20'+e);}catch(_0x50b3dd){this['ckStatus']=![],$[_0x51826d(0x1af)](_0x51826d(0x25f)+_0x50b3dd);}}async[_0x5c66b1(0x163)](){const _0x2a252b=_0x5c66b1,_0x241e0b={'LfjzR':_0x2a252b(0x15f),'XYDTl':_0x2a252b(0x18c)};try{const _0x3b6fb3={'url':_0x241e0b[_0x2a252b(0x24c)],'type':'get','params':{'id':sceneId},'headers':{'cookie':this[_0x2a252b(0x18d)][_0x2a252b(0x1b5)],'referer':_0x2a252b(0x117)+sceneId,'user-agent':this['headers'][_0x241e0b[_0x2a252b(0x246)]]}},_0x36437c=await this[_0x2a252b(0x175)](_0x3b6fb3),{buttonCode:_0xe62e29}=_0x36437c?.['data']?.[_0x2a252b(0x132)];return _0xe62e29==='1'?($[_0x2a252b(0x1af)](_0x2a252b(0x1a1)+_0x36437c?.[_0x2a252b(0x20d)]?.['id']),_0x36437c?.[_0x2a252b(0x20d)]?.['id']):($[_0x2a252b(0x1af)](_0x2a252b(0x14a)+_0x36437c?.[_0x2a252b(0x20d)]?.['id']+'\x20已完成，将重新获取场景'),null);}catch(_0x50414e){this[_0x2a252b(0xfb)]=![],$[_0x2a252b(0x1af)](_0x2a252b(0x1ca)+_0x50414e);}}async[_0x5c66b1(0x16b)](){const _0x3f3021=_0x5c66b1,_0x3b3022={'mNbRL':_0x3f3021(0x212),'AsOCm':_0x3f3021(0x11e),'SbWvE':'Cookie','FEjpQ':function(_0x119b33,_0x5a8f98){return _0x119b33>_0x5a8f98;}};try{const _0xc93673={'url':_0x3b3022['mNbRL'],'type':_0x3b3022[_0x3f3021(0x233)],'params':{'id':sceneId},'headers':{'cookie':this[_0x3f3021(0x18d)][_0x3b3022[_0x3f3021(0x1dc)]],'referer':_0x3f3021(0x189)+sceneId,'user-agent':this['headers'][_0x3f3021(0x18c)]}},_0x433d59=await this[_0x3f3021(0x175)](_0xc93673);ip=_0x433d59?.[_0x3f3021(0x20d)]?.['ip'],_0x3b3022['FEjpQ'](_0x433d59?.[_0x3f3021(0x20d)]?.[_0x3f3021(0x1b2)][_0x3f3021(0x28b)]('1'),-0x1)?resourceFrom='1':resourceFrom='2',_0x433d59?.[_0x3f3021(0x20d)]?.['resourceCardInfoDTOList']['length']&&(sectionId=_0x433d59?.[_0x3f3021(0x20d)]?.[_0x3f3021(0x24e)][0x0]?.['id']),$[_0x3f3021(0x1af)](_0x3f3021(0x1f7)+sceneId);}catch(_0x459a36){this[_0x3f3021(0xfb)]=![],$['log'](_0x3f3021(0x1d6)+_0x459a36);}}async[_0x5c66b1(0x247)](_0x2dc7e0){const _0x51dbc0=_0x5c66b1,_0x502566={'GzWtO':_0x51dbc0(0x1ce),'adFKp':_0x51dbc0(0x135),'mLJLE':_0x51dbc0(0x18c),'TwOvH':function(_0x110e13,_0x2cd00f){return _0x110e13===_0x2cd00f;},'IAebE':_0x51dbc0(0x168)};try{const _0x1bfe2d={'url':_0x502566['GzWtO'],'type':_0x51dbc0(0x1ae),'dataType':_0x502566['adFKp'],'body':{'id':sceneId,'resourceFrom':resourceFrom},'params':{'p_csrf':_0x2dc7e0},'headers':{'Host':_0x51dbc0(0x225),'h_csrf':_0x2dc7e0,'X-XSRF-TOKEN':_0x2dc7e0,'User-Agent':this[_0x51dbc0(0x18d)][_0x502566[_0x51dbc0(0x11c)]],'Cookie':this[_0x51dbc0(0x18d)][_0x51dbc0(0x1b5)]}},_0x5daed7=await this[_0x51dbc0(0x175)](_0x1bfe2d),{code:_0x2da6a6,message:_0xc1d8ab}=_0x5daed7;console['log']((_0x502566[_0x51dbc0(0x1c2)](_0x2da6a6,_0x502566[_0x51dbc0(0x20e)])?'✅':'⛔️')+_0x51dbc0(0x1f9)+sceneId+',\x20'+_0xc1d8ab);}catch(_0x5ea286){this['ckStatus']=![],$[_0x51dbc0(0x1af)]('⛔️\x20开始场景失败!\x20'+_0x5ea286);}}async['closeSceneById'](_0x91bdb4){const _0xf7cc58=_0x5c66b1,_0x3da4e3={'sorfq':_0xf7cc58(0x1c8),'INwlI':_0xf7cc58(0x1ae),'tHQNi':_0xf7cc58(0x135),'EAqKQ':'true','IzEDT':'developer.aliyun.com','nYupe':'User-Agent','shtlt':_0xf7cc58(0x1b5),'oHSny':function(_0x307b8c,_0x2ae215){return _0x307b8c===_0x2ae215;},'PuQkY':_0xf7cc58(0x168)};try{const _0x3bb82c={'url':_0x3da4e3[_0xf7cc58(0x242)],'type':_0x3da4e3['INwlI'],'dataType':_0x3da4e3[_0xf7cc58(0x22d)],'body':{'sceneId':sceneId,'forceClose':_0x3da4e3[_0xf7cc58(0x293)]},'params':{'p_csrf':_0x91bdb4},'headers':{'Host':_0x3da4e3[_0xf7cc58(0x186)],'h_csrf':_0x91bdb4,'X-XSRF-TOKEN':_0x91bdb4,'User-Agent':this[_0xf7cc58(0x18d)][_0x3da4e3[_0xf7cc58(0x28e)]],'Cookie':this['headers'][_0x3da4e3[_0xf7cc58(0x17f)]]}},_0x40c1b7=await this[_0xf7cc58(0x175)](_0x3bb82c),{code:_0xf7f412,message:_0x151ecf}=_0x40c1b7;console['log']((_0x3da4e3[_0xf7cc58(0x291)](_0xf7f412,_0x3da4e3['PuQkY'])?'✅':'⛔️')+_0xf7cc58(0x1d1)+sceneId+',\x20'+_0x151ecf);}catch(_0x24a8fc){this[_0xf7cc58(0xfb)]=![],$['log'](_0xf7cc58(0x140)+_0x24a8fc);}}async['createResourceById'](_0x46030e){const _0x601926=_0x5c66b1,_0x260fe5={'rZKtk':_0x601926(0x1ae),'hiOXs':_0x601926(0x135),'joyYA':_0x601926(0x225),'lJpPf':_0x601926(0x18c),'SHjJr':'Cookie','PndJO':'200'};try{const _0xbde82e={'url':_0x601926(0x27e),'type':_0x260fe5[_0x601926(0x28a)],'dataType':_0x260fe5[_0x601926(0x1b6)],'body':{'id':sceneId,'sectionId':sectionId,'ip':ip},'params':{'p_csrf':_0x46030e},'headers':{'Host':_0x260fe5[_0x601926(0x209)],'h_csrf':_0x46030e,'X-XSRF-TOKEN':_0x46030e,'User-Agent':this[_0x601926(0x18d)][_0x260fe5['lJpPf']],'Cookie':this['headers'][_0x260fe5['SHjJr']]}},_0x4ea7de=await this[_0x601926(0x175)](_0xbde82e),{code:_0x4c1d34,message:_0x1014f2}=_0x4ea7de;console[_0x601926(0x1af)]((_0x4c1d34===_0x260fe5[_0x601926(0x240)]?'✅':'⛔️')+_0x601926(0x187)+sceneId+',\x20'+_0x1014f2);}catch(_0x470b75){this['ckStatus']=![],$[_0x601926(0x1af)]('⛔️\x20创建场景资源失败!\x20'+_0x470b75);}}async[_0x5c66b1(0x25d)](){const _0x35c355=_0x5c66b1,_0x3a38e={'MJxat':_0x35c355(0x143),'sMoId':'get','OGEuF':function(_0x1bd4e5,_0x1b2a4f){return _0x1bd4e5===_0x1b2a4f;},'GFNqk':_0x35c355(0x1a8)};try{const _0x2b4383={'url':_0x3a38e[_0x35c355(0x248)],'type':_0x3a38e[_0x35c355(0x151)]},_0x9f88d3=await this[_0x35c355(0x175)](_0x2b4383),{list:_0x2842f1}=_0x9f88d3?.[_0x35c355(0x20d)];if(_0x2842f1[_0x35c355(0x121)]){$[_0x35c355(0x1af)]('✅\x20开始查询库存:');for(let _0x505678 of _0x2842f1){$[_0x35c355(0x1af)](_0x35c355(0x1a4)+_0x505678[_0x35c355(0xf9)][_0x35c355(0x1d3)](/【.*?】/g,'')+':\x20'+_0x505678['points']+_0x35c355(0x26b)+(_0x3a38e[_0x35c355(0xec)](_0x505678['status'],0x0)?'可兑换':_0x3a38e[_0x35c355(0x236)])+'】');}}}catch(_0x2c8b37){$[_0x35c355(0x1af)]('⛔️\x20查询待收获积分列表失败!\x20'+_0x2c8b37);}}async[_0x5c66b1(0x1e5)](){const _0x55d1c2=_0x5c66b1,_0x4a6435={'kxjMX':'/my/score/getUserScore?appCode=developer','CvNQp':'get'};try{const _0x1cca0d={'url':_0x4a6435['kxjMX'],'type':_0x4a6435[_0x55d1c2(0x113)]};let _0x278900=await this[_0x55d1c2(0x175)](_0x1cca0d);return _0x278900?.[_0x55d1c2(0x20d)];}catch(_0x31a1b8){$[_0x55d1c2(0x1af)](_0x55d1c2(0x268)+_0x31a1b8);}}async[_0x5c66b1(0xf1)](){const _0x21aab4=_0x5c66b1,_0x27b9f9={'EBLtK':_0x21aab4(0x1fc),'QwhHI':_0x21aab4(0x11e)};try{const _0x1f8cbd={'url':_0x27b9f9[_0x21aab4(0xf0)],'type':_0x27b9f9['QwhHI']};let _0x1b7001=await this['fetch'](_0x1f8cbd);return $['log'](_0x21aab4(0x16d)+_0x1b7001?.['data']),_0x1b7001?.[_0x21aab4(0x20d)];}catch(_0x2ab5b0){$[_0x21aab4(0x1af)](_0x21aab4(0x1c7)+_0x2ab5b0);}}async[_0x5c66b1(0x1ba)](){const _0xbf32bd=_0x5c66b1,_0x56a290={'GpvAD':_0xbf32bd(0x193),'qpTem':_0xbf32bd(0x11e)};try{const _0x1a57b0={'url':_0x56a290['GpvAD'],'type':_0x56a290[_0xbf32bd(0x1eb)]};let _0x49bfc0=await this['fetch'](_0x1a57b0);return $[_0xbf32bd(0x1af)](_0xbf32bd(0x19f)+_0x49bfc0?.[_0xbf32bd(0x20d)]),_0x49bfc0?.[_0xbf32bd(0x20d)];}catch(_0x25ee7b){$['log']('⛔️\x20收取积分失败!\x20'+_0x25ee7b);}}async[_0x5c66b1(0x165)](){const _0xdfb0e5=_0x5c66b1,_0x23c680={'hCHUi':_0xdfb0e5(0x11e),'kkpGX':function(_0x295083,_0x465c6f){return _0x295083+_0x465c6f;}};try{const _0x128fba={'url':_0xdfb0e5(0xf7),'type':_0x23c680[_0xdfb0e5(0x164)],'params':{'uccCsrfToken':'','callback':getCallback()}};let _0x3ae911=await this[_0xdfb0e5(0x175)](_0x128fba);const _0x434844=_0x3ae911[_0xdfb0e5(0x28b)]('{'),_0x1d2a39=_0x3ae911[_0xdfb0e5(0x1fa)]('}'),_0x22d026=_0x3ae911[_0xdfb0e5(0x20c)](_0x434844,_0x23c680[_0xdfb0e5(0x210)](_0x1d2a39,0x1)),_0x1f8a00=JSON[_0xdfb0e5(0x10c)](_0x22d026);return _0x1f8a00['data']['uccCsrfToken'];}catch(_0x2b3af4){$[_0xdfb0e5(0x1af)](_0xdfb0e5(0x194)+_0x2b3af4);}}}function getCallback(){const _0xc0a6da=_0x5c66b1,_0x36dde4={'dlGPQ':function(_0x5c1d26,_0x5d3076){return _0x5c1d26+_0x5d3076;},'KLAVe':function(_0x2ed929,_0x43036f){return _0x2ed929+_0x43036f;},'VzIQp':'jsonp_'};return _0x36dde4[_0xc0a6da(0x287)](_0x36dde4[_0xc0a6da(0x265)](_0x36dde4[_0xc0a6da(0x265)](_0x36dde4[_0xc0a6da(0x129)],Date['now']()),'_'),Math[_0xc0a6da(0x222)](0x186a0*Math[_0xc0a6da(0x122)]()));}async function getCookie(){const _0x6cf980=_0x5c66b1,_0x136639={'DOGWT':function(_0x3c6239,_0x65b7cd){return _0x3c6239===_0x65b7cd;}};if($request&&_0x136639['DOGWT']($request[_0x6cf980(0x1dd)],_0x6cf980(0x16a)))return;const _0x18826a=ObjectKeys2LowerCase($request['headers']),_0x1151df=_0x18826a[_0x6cf980(0x10e)],_0x42e14f=$['toObj']($response[_0x6cf980(0x1a2)]);if(!_0x42e14f?.[_0x6cf980(0x20d)]){$[_0x6cf980(0x1f1)]($['name'],_0x6cf980(0x26a),'');return;}const {nickname:_0x4b7a1e,avatar:_0x39672c}=_0x42e14f?.[_0x6cf980(0x20d)],_0x4703c5={'userId':_0x4b7a1e,'avatar':_0x39672c,'token':_0x1151df,'userName':_0x4b7a1e};userCookie=userCookie?JSON[_0x6cf980(0x10c)](userCookie):[];const _0x52cb97=userCookie[_0x6cf980(0x1ac)](_0x2ec623=>_0x2ec623[_0x6cf980(0x110)]==_0x4703c5[_0x6cf980(0x110)]);userCookie[_0x52cb97]?userCookie[_0x52cb97]=_0x4703c5:userCookie[_0x6cf980(0x224)](_0x4703c5),$[_0x6cf980(0x208)](userCookie,ckName),$['msg']($['name'],'🎉'+_0x4703c5[_0x6cf980(0x120)]+_0x6cf980(0x1f4),'');}async function loadModule(){const _0x2e4834=_0x5c66b1,_0x1007c5={'jEjFi':function(_0x4d9c7c){return _0x4d9c7c();}};try{return $[_0x2e4834(0x22c)]=await _0x1007c5[_0x2e4834(0x1ab)](loadCheerio),$[_0x2e4834(0x22c)]?!![]:![];}catch(_0x4acbba){throw new Error(_0x2e4834(0x264)+_0x4acbba);}}async function checkEnv(){const _0x285837=_0x5c66b1;try{const _0x2f785b=envSplitor['find'](_0x46bf93=>userCookie[_0x285837(0x171)](_0x46bf93))||envSplitor[0x0];return userCookie=$[_0x285837(0x1e1)](userCookie)||userCookie['split'](_0x2f785b),userList['push'](...userCookie[_0x285837(0x19c)](_0x94f31a=>new UserInfo(_0x94f31a))['filter'](Boolean)),userCount=userList[_0x285837(0x121)],console[_0x285837(0x1af)](_0x285837(0x289)+userCount+'个账号'),!![];}catch(_0x251edc){throw new Error(_0x285837(0x1a7)+_0x251edc);}}async function Request(_0x43b52c){const _0x594c8f=_0x5c66b1,_0x399859={'WfWYU':function(_0x30e513,_0x213319){return _0x30e513===_0x213319;},'zwrEy':_0x594c8f(0x1a9),'WEbUH':_0x594c8f(0x172),'KZUNn':_0x594c8f(0x20d),'Divak':function(_0xfea656,_0x75f039){return _0xfea656 in _0x75f039;},'hlecK':_0x594c8f(0x1a2),'YWXAA':_0x594c8f(0x1ae),'rHesv':_0x594c8f(0x11e),'bDiDM':function(_0x4bc24b,_0x86e1d5){return _0x4bc24b+_0x86e1d5;},'YzXMq':function(_0x31b2fe,_0x1b7c7e){return _0x31b2fe/_0x1b7c7e;},'AGFIy':'json','UhUkO':_0x594c8f(0xff),'ffAme':'application/json;charset=UTF-8','dVeap':function(_0x40b00d,_0x311e63){return _0x40b00d==_0x311e63;},'LbORw':_0x594c8f(0x135)};if(_0x399859[_0x594c8f(0x205)](typeof _0x43b52c,_0x399859[_0x594c8f(0x1b8)]))_0x43b52c={'url':_0x43b52c};try{if(!_0x43b52c?.[_0x594c8f(0x1ef)])throw new Error(_0x399859[_0x594c8f(0x17d)]);let {url:_0x17913c,type:_0x423f6e,headers:headers={},body:_0x5c172b,params:_0x5ad885,dataType:dataType='form',resultType:resultType=_0x399859[_0x594c8f(0x131)]}=_0x43b52c;const _0x18a831=_0x423f6e?_0x423f6e?.['toLowerCase']():_0x399859[_0x594c8f(0x136)](_0x399859[_0x594c8f(0x158)],_0x43b52c)?_0x399859[_0x594c8f(0x1ec)]:_0x399859[_0x594c8f(0x213)],_0x165fc6=_0x17913c[_0x594c8f(0x14c)](_0x18a831===_0x399859[_0x594c8f(0x1ec)]?_0x399859[_0x594c8f(0x130)]('?',$['queryStr'](_0x5ad885)):''),_0x1c420e=_0x43b52c[_0x594c8f(0x23a)]?$[_0x594c8f(0xed)]()?_0x399859['YzXMq'](_0x43b52c[_0x594c8f(0x23a)],0x3e8):_0x43b52c['timeout']:0x2710;if(dataType===_0x399859['AGFIy'])headers[_0x399859['UhUkO']]=_0x399859[_0x594c8f(0x17c)];const _0x2000c7=_0x5c172b&&_0x399859[_0x594c8f(0x201)](dataType,_0x399859[_0x594c8f(0x21d)])?$['queryStr'](_0x5c172b):$[_0x594c8f(0x111)](_0x5c172b),_0x3c340f={..._0x43b52c,..._0x43b52c?.[_0x594c8f(0x1e0)]?_0x43b52c[_0x594c8f(0x1e0)]:{},'url':_0x165fc6,'headers':headers,..._0x399859[_0x594c8f(0x205)](_0x18a831,_0x399859[_0x594c8f(0x1ec)])&&{'body':_0x2000c7},..._0x18a831===_0x399859[_0x594c8f(0x213)]&&_0x5ad885&&{'params':_0x5ad885},'timeout':_0x1c420e},_0x232d0d=$[_0x594c8f(0x154)][_0x18a831[_0x594c8f(0x244)]()](_0x3c340f)[_0x594c8f(0x24b)](_0x16830b=>resultType==_0x594c8f(0x20d)?$[_0x594c8f(0x1e1)](_0x16830b[_0x594c8f(0x1a2)])||_0x16830b[_0x594c8f(0x1a2)]:$[_0x594c8f(0x1e1)](_0x16830b)||_0x16830b)['catch'](_0xc0655b=>$[_0x594c8f(0x1af)](_0x594c8f(0x272)+_0xc0655b));return Promise[_0x594c8f(0x12f)]([new Promise((_0x29d35d,_0x7f2fe5)=>setTimeout(()=>_0x7f2fe5(_0x594c8f(0x177)),_0x1c420e)),_0x232d0d]);}catch(_0x1b1644){console[_0x594c8f(0x1af)](_0x594c8f(0x272)+_0x1b1644);}};function randomInt(_0x4e158a,_0x157dcd){const _0x4918c4=_0x5c66b1,_0x2f564f={'FaXRU':function(_0x13039b,_0x511725){return _0x13039b+_0x511725;},'iWtHU':function(_0xa3517f,_0x4a003d){return _0xa3517f*_0x4a003d;},'cHAfd':function(_0x25166c,_0x391ab5){return _0x25166c-_0x391ab5;}};return Math[_0x4918c4(0x1a6)](_0x2f564f[_0x4918c4(0x27f)](_0x2f564f['iWtHU'](Math[_0x4918c4(0x122)](),_0x2f564f[_0x4918c4(0x153)](_0x157dcd,_0x4e158a)),_0x4e158a));};function DoubleLog(_0x4d1eb3){const _0x2443ff=_0x5c66b1;if(_0x4d1eb3&&$['isNode']())console[_0x2443ff(0x1af)](''+_0x4d1eb3),$[_0x2443ff(0x1d2)][_0x2443ff(0x224)](''+_0x4d1eb3);else _0x4d1eb3&&(console[_0x2443ff(0x1af)](''+_0x4d1eb3),$[_0x2443ff(0x1d2)][_0x2443ff(0x224)](''+_0x4d1eb3));};function debug(_0x48606a,_0x191149=_0x5c66b1(0x17e)){const _0x166fc1=_0x5c66b1,_0x5e4546={'NYsZe':function(_0x3c259c,_0x2fad8e){return _0x3c259c===_0x2fad8e;},'UaAuZ':'string'};_0x5e4546[_0x166fc1(0x147)]($['is_debug'],_0x166fc1(0x26d))&&($['log'](_0x166fc1(0x1fb)+_0x191149+_0x166fc1(0x112)),$[_0x166fc1(0x1af)](typeof _0x48606a==_0x5e4546[_0x166fc1(0x1e6)]?_0x48606a:$[_0x166fc1(0x111)](_0x48606a)||_0x166fc1(0x211)+_0x48606a),$[_0x166fc1(0x1af)](_0x166fc1(0x1fb)+_0x191149+'------------\x0a'));};async function SendMsgList(_0x3068be){const _0x528fc7=_0x5c66b1;await Promise[_0x528fc7(0x280)](_0x3068be?.[_0x528fc7(0x19c)](_0x37fb82=>SendMsg(_0x37fb82[_0x528fc7(0x142)][_0x528fc7(0x295)]('\x0a'),_0x37fb82[_0x528fc7(0x114)])));};async function SendMsg(_0x5a6c2a,_0x1bb5e4){const _0x3c7438=_0x5c66b1,_0x2c8299={'KaeEp':function(_0x297acf,_0x3f54db){return _0x297acf<_0x3f54db;}};_0x5a6c2a&&(_0x2c8299[_0x3c7438(0x18f)](0x0,Notify)?$[_0x3c7438(0xeb)]()?await notify[_0x3c7438(0x107)]($['name'],_0x5a6c2a):$[_0x3c7438(0x1f1)]($[_0x3c7438(0x1ff)],$['title']||'',_0x5a6c2a,{'media-url':_0x1bb5e4}):console['log'](_0x5a6c2a));};function ObjectKeys2LowerCase(_0x16c56c){const _0x504fa3=_0x5c66b1;return _0x16c56c=Object[_0x504fa3(0x254)](Object[_0x504fa3(0x15c)](_0x16c56c)[_0x504fa3(0x19c)](([_0x32fc8c,_0x5305d9])=>[_0x32fc8c[_0x504fa3(0x244)](),_0x5305d9])),new Proxy(_0x16c56c,{'get':function(_0x23b73a,_0x39a5bf,_0x55da62){const _0x1f0f21=_0x504fa3;return Reflect['get'](_0x23b73a,_0x39a5bf[_0x1f0f21(0x244)](),_0x55da62);},'set':function(_0x5509b7,_0x548c2c,_0x2f8ca6,_0x129ebe){const _0x6339c4=_0x504fa3;return Reflect[_0x6339c4(0x21f)](_0x5509b7,_0x548c2c[_0x6339c4(0x244)](),_0x2f8ca6,_0x129ebe);}});};async function loadCheerio(){const _0x295203=_0x5c66b1,_0x53ce0f={'tGFEg':'Cheerio_code','qYUrk':function(_0x2cf6c3,_0x31ef2a){return _0x2cf6c3(_0x31ef2a);}};let _0x378d5a=($['isNode']()?process['env'][_0x53ce0f[_0x295203(0x245)]]:$['getdata'](_0x53ce0f[_0x295203(0x245)]))||'';if(_0x378d5a&&Object[_0x295203(0x223)](_0x378d5a)[_0x295203(0x121)])return console[_0x295203(0x1af)]('✅'+$['name']+_0x295203(0x124)),eval(_0x378d5a),createCheerio();return console[_0x295203(0x1af)]('🚀'+$[_0x295203(0x1ff)]+_0x295203(0x1b1)),new Promise(async _0x365b67=>{const _0x4c1b37=_0x295203,_0x106145={'LMzJL':_0x53ce0f[_0x4c1b37(0x245)],'Ncofx':function(_0x5cd205,_0x51b332){const _0x54c066=_0x4c1b37;return _0x53ce0f[_0x54c066(0x217)](_0x5cd205,_0x51b332);}};$[_0x4c1b37(0x174)]('https://mirror.ghproxy.com/https://raw.githubusercontent.com/Yuheng0101/X/main/Utils/cheerio.js')[_0x4c1b37(0x24b)](_0x3fb0aa=>{const _0x549959=_0x4c1b37;$[_0x549959(0xee)](_0x3fb0aa,_0x106145[_0x549959(0x20b)]),_0x106145['Ncofx'](eval,_0x3fb0aa);const _0x1f310d=createCheerio();console[_0x549959(0x1af)](_0x549959(0x276)),_0x365b67(_0x1f310d);});});};!(async()=>{const _0x1f4220=_0x5c66b1,_0x366f78={'IHHZJ':function(_0x42e661){return _0x42e661();},'JYloY':function(_0x1e40b6){return _0x1e40b6();},'oMOgV':function(_0x57ef19,_0x55a81d){return _0x57ef19>_0x55a81d;}};if(typeof $request!=_0x1f4220(0x13a))await _0x366f78[_0x1f4220(0x1f8)](getCookie);else{if(!await _0x366f78[_0x1f4220(0x1f8)](loadModule))throw new Error(_0x1f4220(0x1ad));if(!await _0x366f78[_0x1f4220(0x226)](checkEnv))throw new Error(_0x1f4220(0x219));if(_0x366f78[_0x1f4220(0xf3)](userList[_0x1f4220(0x121)],0x0))await _0x366f78[_0x1f4220(0x226)](main);}})()['catch'](_0x28645d=>$['notifyMsg']['push'](_0x28645d['message']||_0x28645d))[_0x5c66b1(0x260)](async()=>{const _0x32d8d7=_0x5c66b1,_0x5a2f50={'fMIDW':function(_0x196f58,_0x3d417e){return _0x196f58(_0x3d417e);}};await _0x5a2f50[_0x32d8d7(0x1ee)](SendMsgList,$[_0x32d8d7(0x27d)]),$[_0x32d8d7(0x1c6)]({'ok':0x1});});

/** ---------------------------------固定不动区域----------------------------------------- */
// prettier-ignore
//From chavyleung's Env.js
function Env(t, e) { class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise(((e, r) => { s.call(this, t, ((t, s, a) => { t ? r(t) : e(s) })) })) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.encoding = "utf-8", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } getEnv() { return "undefined" != typeof $environment && $environment["surge-version"] ? "Surge" : "undefined" != typeof $environment && $environment["stash-version"] ? "Stash" : "undefined" != typeof module && module.exports ? "Node.js" : "undefined" != typeof $task ? "Quantumult X" : "undefined" != typeof $loon ? "Loon" : "undefined" != typeof $rocket ? "Shadowrocket" : void 0 } isNode() { return "Node.js" === this.getEnv() } isQuanX() { return "Quantumult X" === this.getEnv() } isSurge() { return "Surge" === this.getEnv() } isLoon() { return "Loon" === this.getEnv() } isShadowrocket() { return "Shadowrocket" === this.getEnv() } isStash() { return "Stash" === this.getEnv() } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; if (this.getdata(t)) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise((e => { this.get({ url: t }, ((t, s, r) => e(r))) })) } runScript(t, e) { return new Promise((s => { let r = this.getdata("@chavy_boxjs_userCfgs.httpapi"); r = r ? r.replace(/\n/g, "").trim() : r; let a = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); a = a ? 1 * a : 20, a = e && e.timeout ? e.timeout : a; const [i, o] = r.split("@"), n = { url: `http://${o}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: a }, headers: { "X-Key": i, Accept: "*/*" }, timeout: a }; this.post(n, ((t, e, r) => s(r))) })).catch((t => this.logErr(t))) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), r = !s && this.fs.existsSync(e); if (!s && !r) return {}; { const r = s ? t : e; try { return JSON.parse(this.fs.readFileSync(r)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), r = !s && this.fs.existsSync(e), a = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, a) : r ? this.fs.writeFileSync(e, a) : this.fs.writeFileSync(t, a) } } lodash_get(t, e, s = void 0) { const r = e.replace(/\[(\d+)\]/g, ".$1").split("."); let a = t; for (const t of r) if (a = Object(a)[t], void 0 === a) return s; return a } lodash_set(t, e, s) { return Object(t) !== t || (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce(((t, s, r) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[r + 1]) >> 0 == +e[r + 1] ? [] : {}), t)[e[e.length - 1]] = s), t } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, r] = /^@(.*?)\.(.*?)$/.exec(t), a = s ? this.getval(s) : ""; if (a) try { const t = JSON.parse(a); e = t ? this.lodash_get(t, r, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, r, a] = /^@(.*?)\.(.*?)$/.exec(e), i = this.getval(r), o = r ? "null" === i ? null : i || "{}" : "{}"; try { const e = JSON.parse(o); this.lodash_set(e, a, t), s = this.setval(JSON.stringify(e), r) } catch (e) { const i = {}; this.lodash_set(i, a, t), s = this.setval(JSON.stringify(i), r) } } else s = this.setval(t, e); return s } getval(t) { switch (this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": return $persistentStore.read(t); case "Quantumult X": return $prefs.valueForKey(t); case "Node.js": return this.data = this.loaddata(), this.data[t]; default: return this.data && this.data[t] || null } } setval(t, e) { switch (this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": return $persistentStore.write(t, e); case "Quantumult X": return $prefs.setValueForKey(t, e); case "Node.js": return this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0; default: return this.data && this.data[e] || null } } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { switch (t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"], delete t.headers["content-type"], delete t.headers["content-length"]), t.params && (t.url += "?" + this.queryStr(t.params)), void 0 === t.followRedirect || t.followRedirect || ((this.isSurge() || this.isLoon()) && (t["auto-redirect"] = !1), this.isQuanX() && (t.opts ? t.opts.redirection = !1 : t.opts = { redirection: !1 })), this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": default: this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, ((t, s, r) => { !t && s && (s.body = r, s.statusCode = s.status ? s.status : s.statusCode, s.status = s.statusCode), e(t, s, r) })); break; case "Quantumult X": this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then((t => { const { statusCode: s, statusCode: r, headers: a, body: i, bodyBytes: o } = t; e(null, { status: s, statusCode: r, headers: a, body: i, bodyBytes: o }, i, o) }), (t => e(t && t.error || "UndefinedError"))); break; case "Node.js": let s = require("iconv-lite"); this.initGotEnv(t), this.got(t).on("redirect", ((t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } })).then((t => { const { statusCode: r, statusCode: a, headers: i, rawBody: o } = t, n = s.decode(o, this.encoding); e(null, { status: r, statusCode: a, headers: i, rawBody: o, body: n }, n) }), (t => { const { message: r, response: a } = t; e(r, a, a && s.decode(a.rawBody, this.encoding)) })) } } post(t, e = (() => { })) { const s = t.method ? t.method.toLocaleLowerCase() : "post"; switch (t.body && t.headers && !t.headers["Content-Type"] && !t.headers["content-type"] && (t.headers["content-type"] = "application/x-www-form-urlencoded"), t.headers && (delete t.headers["Content-Length"], delete t.headers["content-length"]), void 0 === t.followRedirect || t.followRedirect || ((this.isSurge() || this.isLoon()) && (t["auto-redirect"] = !1), this.isQuanX() && (t.opts ? t.opts.redirection = !1 : t.opts = { redirection: !1 })), this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": default: this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient[s](t, ((t, s, r) => { !t && s && (s.body = r, s.statusCode = s.status ? s.status : s.statusCode, s.status = s.statusCode), e(t, s, r) })); break; case "Quantumult X": t.method = s, this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then((t => { const { statusCode: s, statusCode: r, headers: a, body: i, bodyBytes: o } = t; e(null, { status: s, statusCode: r, headers: a, body: i, bodyBytes: o }, i, o) }), (t => e(t && t.error || "UndefinedError"))); break; case "Node.js": let r = require("iconv-lite"); this.initGotEnv(t); const { url: a, ...i } = t; this.got[s](a, i).then((t => { const { statusCode: s, statusCode: a, headers: i, rawBody: o } = t, n = r.decode(o, this.encoding); e(null, { status: s, statusCode: a, headers: i, rawBody: o, body: n }, n) }), (t => { const { message: s, response: a } = t; e(s, a, a && r.decode(a.rawBody, this.encoding)) })) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let r = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in r) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? r[e] : ("00" + r[e]).substr(("" + r[e]).length))); return t } queryStr(t) { let e = ""; for (const s in t) { let r = t[s]; null != r && "" !== r && ("object" == typeof r && (r = JSON.stringify(r)), e += `${s}=${r}&`) } return e = e.substring(0, e.length - 1), e } msg(e = t, s = "", r = "", a) { const i = t => { switch (typeof t) { case void 0: return t; case "string": switch (this.getEnv()) { case "Surge": case "Stash": default: return { url: t }; case "Loon": case "Shadowrocket": return t; case "Quantumult X": return { "open-url": t }; case "Node.js": return }case "object": switch (this.getEnv()) { case "Surge": case "Stash": case "Shadowrocket": default: return { url: t.url || t.openUrl || t["open-url"] }; case "Loon": return { openUrl: t.openUrl || t.url || t["open-url"], mediaUrl: t.mediaUrl || t["media-url"] }; case "Quantumult X": return { "open-url": t["open-url"] || t.url || t.openUrl, "media-url": t["media-url"] || t.mediaUrl, "update-pasteboard": t["update-pasteboard"] || t.updatePasteboard }; case "Node.js": return }default: return } }; if (!this.isMute) switch (this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": default: $notification.post(e, s, r, i(a)); break; case "Quantumult X": $notify(e, s, r, i(a)); case "Node.js": }if (!this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), r && t.push(r), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { switch (this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": case "Quantumult X": default: this.log("", `❗️${this.name}, 错误!`, t); break; case "Node.js": this.log("", `❗️${this.name}, 错误!`, t.stack) } } wait(t) { return new Promise((e => setTimeout(e, t))) } done(t = {}) { const e = ((new Date).getTime() - this.startTime) / 1e3; switch (this.log("", `🔔${this.name}, 结束! 🕛 ${e} 秒`), this.log(), this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": case "Quantumult X": default: $done(t); break; case "Node.js": process.exit(1) } } }(t, e) }
